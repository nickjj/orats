<%
   title 'Edit your account'
   meta_description '...'
   heading 'Edit your account'
%>

<div class="row">
  <div class="col-sm-6">
    <%= form_for resource, as: resource_name, url: registration_path(resource_name), html: { method: :patch } do |f| %>
      <div class="form-group">
        <%= f.label :current_password %>
        <span class="help-block form-help-adjust-margin">
          <small>
            Supply your current password to make any changes
          </small>
        </span>
        <%= f.password_field :current_password, maxlength: 128, class: 'form-control',
                             data: {
                                 'rule-required' => 'true',
                                 'rule-minlength' => '8',
                                 'rule-maxlength' => '128'
                             } %>
      </div>
      <div class="form-group">
        <%= f.label :email %>
        <%= f.email_field :email, class: 'form-control', maxlength: 254, autofocus: true %>
      </div>
      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <h3>Currently waiting confirmation for: <%= resource.unconfirmed_email %></h3>
      <% end %>
      <div class="form-group">
        <%= f.label :password %>
        <span class="help-block form-help-adjust-margin">
          <small>
            Leave this blank if you do not want to change it
          </small>
        </span>
        <%= f.password_field :password, class: 'form-control' %>
      </div>
      <%= button_tag type: 'submit', class: 'btn btn-primary' do %>
        Save
      <% end %>
    <% end %>
  </div>
  <div class="col-sm-6">
    <p>
      Unhappy? <%= button_to 'Cancel my account', registration_path(resource_name), method: :delete %>
    </p>
  </div>
</div>